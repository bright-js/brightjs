/* MIT License | Copyright (c) 2022 Nathan TILLIER | bright.js.org/license */const brightJs=function(){"use strict";var t={cloneWhenAppend:!0,queryRoot:document,queryFunction:"querySelectorAll"};function e(t){return Array.from(t.parentElement.children).indexOf(t)}function r(...t){let e=document.createElement("div");return e.innerHTML=t.join(""),e.children}function i(t){let e=t.nextSibling;for(;1!==e.nodeType;)if(!(e=e.nextSibling))return null;return e}function n(t){let e=t.previousSibling;for(;1!==e.nodeType;)if(!(e=e.previousSibling))return null;return e}class s{constructor(...e){this.elements=e.filter(Boolean).map(e=>e.isBrightJs?e.raw():Array.from("string"==typeof e?t.queryRoot[t.queryFunction](e):e)).flat().filter(Boolean),this.fragments=[],this.isBrightJs=!0,this.length=this.elements.length,this.heavy=!1}apply(t,e){return this.each((r,i)=>{t.forEach(t=>{"string"==typeof t?e.isString(r,t,i):t.isBrightJs?e.isBrightJs(r,t,i):e.default(r,t,i)})})}each(t){return this.elements.forEach(t),this}filter(t){return this.elements.filter(t)}map(t){return this.elements.map(t)}return(t){return 1===this.length?t[0]:t}addClass(){return this.each(t=>t.classList.add(...arguments))}after(...t){return 0===t.length?this.return(this.map(i)):this.apply(t,{isString:(t,e)=>t.after(...r(e)),isBrightJs:(t,e)=>t.after(...e.raw()),default:(t,e)=>t.after(e)})}append(...e){var i=t.cloneWhenAppend;return this.heavy?this.apply(e,{isString:(t,e,i)=>this.fragments[i].appendChild(...r(e)),isBrightJs:(t,e,r)=>t.append(...r?e.clone().raw():e.raw()),default:(t,e,r)=>this.fragments[r].appendChild(e)}):this.apply(e,{isString:(t,e)=>t.appendChild(...r(e)),isBrightJs:(t,e)=>t.appendChild(...i?e.clone().raw():e.raw()),default:(t,e)=>t.appendChild(e)})}appendTo(...t){return this.apply(t,{isString:(t,e)=>new s(e).append(t),isBrightJs:(t,e)=>e.append(t),default:(t,e)=>e.appendChild(t)})}attr(t,e){return e?this.each(r=>r.setAttribute(t,e)):this.return(this.map(e=>e.getAttribute(t)))}before(...t){return 0===t.length?this.return(this.map(n)):this.apply(t,{isString:(t,e)=>t.before(...r(e).raw()),isBrightJs:(t,e)=>t.before(...e.raw()),default:(t,e)=>t.before(e)})}blur(){return this.each(t=>t.blur())}change(t){return this.each(e=>{e.value=t,e.dispatchEvent(new Event("change"))})}children(t){return t?this.return(this.map(e=>new s(e.children.item(t)))):this.return(this.map(t=>new s(t.children)))}click(){return this.each(t=>t.click())}clone(){return new s(this.map(t=>t.cloneNode(!0)))}closest(t){return this.return(this.map(e=>new s(e.closest(t))))}css(t,e){return e||"object"==typeof t?"object"!=typeof t?this.each(r=>r.style[t]=e):this.each(e=>Object.assign(e.style,t)):this.return(this.map(e=>e.style[t]))}delay(t){return new Promise(e=>setTimeout(e,t,this))}find(t){return new s(...this.map(e=>e.querySelectorAll(t)))}findOne(t){return new s(...this.map(e=>e.querySelector(t)))}firstChild(){return new s(...this.map(t=>t.firstElementChild))}focus(t){return this.each(e=>e.focus(t))}get(t){return this.return(this.map(e=>(function t(e,r){if(!r)return e;let[i,...n]="string"==typeof r?r.split("."):r;if(e[i])return n.length>0?t(e[i],n):e[i]})(e,t)))}hasClass(){return this.return(this.map(t=>t.classList.contains(...arguments)))}id(t){return t?(this.map(e=>e.id=t),this):this.return(this.map(t=>t.id))}index(){return this.return(this.map(e))}hasChild(){return this.return(this.map(t=>0!==t.children.length))}height(t){return t?this.each(e=>e.style.height=t):this.return(this.map(t=>t.offsetHeight||t.innerHeight))}html(...t){return t.length>0?this.each(e=>e.innerHTML=t.join(" ")):this.return(this.map(t=>t.innerHTML))}lastChild(){return new s(...this.map(t=>t.lastElementChild))}async load(t){let e=await fetch(t),r=await e.text();return this.each(t=>t.innerHTML=r),e}on(){return this.each(t=>t.addEventListener(...arguments))}parent(){return this.return(this.map(t=>t.parentElement))}raw(){return this.map(t=>t)}remove(){return this.each(t=>t.remove())}removeClass(){return this.each(t=>t.classList.remove(...arguments))}removeEvent(...t){return this.each(e=>e.removeEventListener(...t))}render(){return this.heavy?(this.heavy=!1,this.each((t,e)=>t.appendChild(this.fragments[e]))):this}setHeavy(){return this.fragments=[...Array(this.length)].map(()=>document.createDocumentFragment()),this.heavy=!0,this}scrollTo(t,e,r="smooth"){return this.each(i=>i.scrollTo({top:e,left:t,behavior:r}))}scrollTop(t){return this.scrollTo(void 0,0,t)}scrollLeft(t){return this.scrollTo(0,void 0,t)}scrollRight(t="smooth"){return this.each(e=>e.scrollTo({left:e.offsetWidth||e.innerWidth,behavior:t}))}scrollBottom(t="smooth"){return this.each(e=>e.scrollTo({top:e.offsetHeight||e.innerHeight,behavior:t}))}set(t,e){return this.each(r=>(function t(e,r,i){let[n,...s]=r;e[n]&&(s.length>0?t(e[n],s,i):Object.defineProperty(e,n,{value:i}))})(r,t.split("."),e))}siblings(){return new s(...this.map(t=>[n(t),i(t)]).flat())}style(t){return this.return(this.map(e=>window.getComputedStyle(e,null)[t]))}text(...t){return t.length>0?this.each(e=>e.textContent=t.join(" ")):this.return(this.map(t=>t.textContent))}toogleAttr(t,e){return this.each(r=>r.toggleAttribute(t,e))}toogleClass(t,e){return this.each(r=>r.classList.toggle(t,e))}trigger(...t){return t.forEach(t=>{let e=new Event(t);this.each(t=>t.dispatchEvent(e))}),this}update(t){return this.each(e=>Object.assign(e,t))}val(t){return t?this.each(e=>e.value=t):this.return(this.map(t=>t.value))}width(t){return t?this.each(e=>e.style.width=t):this.return(this.map(t=>t.offsetWidth||t.innerWidth))}*[Symbol.iterator](){for(let t of this.elements)yield new s(t)}}return Object.assign((...t)=>new s(...t),{extend:function t(e,r){if("object"==typeof e)for(let i in e)s.prototype[i]=e[i];else s.prototype[e]=r},custom:function t(e,r){if("object"==typeof e)for(let i in e)this[i]=e[i];else this[e]=r},setOptions:function e(r){Object.assign(t,r)}})}();brightJs.custom(console),brightJs.custom({noConflict:()=>$=void 0,getJSON:t=>fetch(t).then(t=>t.json()),fetch:(...t)=>new Promise((e,r)=>fetch(...t).then(async t=>t.ok?e(await t.text()):r(await t.text()))),when:(...t)=>Promise.all(t),delay:t=>new Promise(e=>setTimeout(e.bind(null,!0),t)),from:brightJs.parseHTML});var $=brightJs;
